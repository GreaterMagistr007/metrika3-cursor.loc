# Настройка Telegram Bot для аутентификации

## Шаг 1: Создание Telegram Bot

1. Откройте Telegram и найдите бота [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot`
3. Введите имя для вашего бота (например: "Metrika3 Cabinet Bot")
4. Введите username для бота (например: "metrika3_cabinet_bot")
5. Скопируйте полученный токен

## Шаг 2: Настройка Webhook Secret

1. Отправьте команду `/setjoingroups` боту @BotFather
2. Выберите вашего бота
3. Отправьте `Disable` чтобы отключить добавление в группы
4. Отправьте команду `/setprivacy` боту @BotFather
5. Выберите вашего бота
6. Отправьте `Disable` чтобы бот мог видеть все сообщения

## Шаг 3: Настройка переменных окружения

Добавьте в файл `.env` следующие строки:

```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_BOT_SECRET=your_webhook_secret_here
```

Замените:
- `your_bot_token_here` на токен, полученный от @BotFather
- `your_webhook_secret_here` на случайную строку (например, сгенерированную через `php artisan key:generate`)

## Шаг 4: Тестирование

1. Перезапустите Laravel сервер
2. Попробуйте войти в систему через браузер
3. Введите номер телефона существующего пользователя
4. Проверьте, что код приходит в Telegram

## Примечания

- Для тестирования создайте пользователя в базе данных с номером телефона и telegram_id
- Telegram Bot должен быть добавлен в контакты пользователя
- В режиме разработки можно использовать тестовые данные без реального Telegram Bot
